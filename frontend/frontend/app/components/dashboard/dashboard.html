<div>
    <md-toolbar>
        <div class="md-toolbar-tools">
            <md-button class="md-icon-button" aria-label="Menu">
                <i class="material-icons">menu</i>
            </md-button>
            <h2>
                <span>Theseus Dashboard</span>
            </h2>
            <span flex> </span>
            <md-button class="md-icon-button reset-button" aria-label="Reset">
                <i class="material-icons" ng-click="init()">autorenew</i>
            </md-button>
        </div>
    </md-toolbar>
    <md-card class="filter-container">
        <div layout="column" layout-gt-sm="row">
            <div layout="row" flex>
                <md-chips flex ng-model="topics" placeholder="Enter a topic" secondary-placeholder="" md-transform-chip="$chip.toLowerCase()"></md-chips>
            </div>
            <div layout="row" flex>
                <md-input-container class="university-container" flex>
                    <label>University</label>
                    <md-select ng-model="university">
                        <md-option><em>All</em></md-option>
                        <md-option ng-repeat="university in universities" ng-value="university">
                            {{university}}
                        </md-option>
                    </md-select>
                </md-input-container>
                <md-input-container class="language-container" flex>
                    <label>Language</label>
                    <md-select ng-model="language">
                        <md-option><em>All</em></md-option>
                        <md-option ng-repeat="language in languages" ng-value="language">
                            {{language}}
                        </md-option>
                    </md-select>
                </md-input-container>
            </div>
        </div>
    </md-card>
    <div ng-if="includeDesktopTemplate" layout="row">
        <md-card flex="50">
            <div class="md-toolbar-tools">
                <h3>DEGREES</h3>
            </div>
            <md-divider></md-divider>
            <div class="container">
                <bubble-chart data="degree_counts" selected="degrees"></bubble-chart>
                <span class="bubble-chart-help"><i>You can zoom and pan</i></span>
            </div>
        </md-card>
        <md-card flex="25">
            <div class="md-toolbar-tools">
                <h3>TOPICS</h3>
            </div>
            <md-divider></md-divider>
            <div class="container">
                <bar-chart data="topic_counts" selected="topics"></bar-chart>
            </div>
        </md-card>
        <md-card flex="25">
            <div class="md-toolbar-tools">
                <h3>THESES</h3>
            </div>
            <md-divider></md-divider>
            <div class="container">
                <md-list flex>
                    <!--<md-subheader class="md-no-sticky">117,653 theses</md-subheader>-->
                    <md-list-item class="md-2-line" ng-repeat="thesis in theses" ng-click="null">
                        <div class="md-list-item-text" layout="column">
                            <h3>{{ thesis.titles[0] }}</h3>
                            <h4>{{ thesis.authors[0] }}</h4>
                        </div>
                    </md-list-item>
                </md-list>
            </div>
        </md-card>
    </div>
    <div ng-if="includeMobileTemplate">
        <md-card>
            <md-tabs md-dynamic-height md-border-bottom>
                <md-tab label="degrees">
                    <md-content class="md-padding">
                        <bubble-chart data="degree_counts" selected="degrees"></bubble-chart>
                        <span class="bubble-chart-help"><i>You can zoom and pan</i></span>
                    </md-content>
                </md-tab>
                <md-tab label="topics">
                    <md-content class="md-padding">
                        <bar-chart data="topic_counts" selected="topics"></bar-chart>
                    </md-content>
                </md-tab>
                <md-tab label="theses">
                    <md-content class="md-padding">
                        <md-list flex>
                            <!--<md-subheader class="md-no-sticky">117,653 theses</md-subheader>-->
                            <md-list-item class="md-2-line" ng-repeat="thesis in theses" ng-click="openThesisURL(thesis)">
                                <div class="md-list-item-text" layout="column" target="_blank">
                                    <h3>{{ thesis.titles[0] }}</h3>
                                    <h4>{{ thesis.authors[0] }}</h4>
                                </div>
                            </md-list-item>
                        </md-list>
                    </md-content>
                </md-tab>
            </md-tabs>
        </md-card>
    </div>
</div>
